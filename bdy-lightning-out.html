<div id="lightning"></div>
<script src="https://beyerdynamic--devverve.sandbox.my.site.com/faq/lightning/lightning.out.js"></script>
<script>
  function handleNavigation() {
    const params = new URLSearchParams(window.location.search);
    const componentName = params.get('component') || 'kontaktFormularStartseite';
    const language = params.get('language') || 'en';

    const lightning = document.getElementById('lightning');
    lightning.innerHTML = '';

    $Lightning.use(
      "c:ReklamationsformularOut",
      function() {
        $Lightning.createComponent(
          "c:" + componentName,
          { selectedLanguage: language },
          "lightning",
          function(cmp) {
            console.log("LWC component was created: " + componentName);
          }
        );
      },
      "https://beyerdynamic--devverve.sandbox.my.site.com/faq/"
    );
  }

  // Initial navigation
  handleNavigation();

  // Handle URL changes
  window.addEventListener('urlChanged', handleNavigation);
  window.addEventListener('popstate', handleNavigation);
</script>
