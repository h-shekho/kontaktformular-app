<div id="lightning"></div>
<script src="https://beyerdynamic--devverve.sandbox.my.site.com/faq/lightning/lightning.out.js"></script>
<script>
  let currentComponent = 'kontaktFormularStartseite';
  
  function createComponent(componentName, params) {
    $Lightning.use(
      "c:ReklamationsformularOut",
      function() {
        $Lightning.createComponent(
          "c:" + componentName,
          params,
          "lightning",
          function(cmp) {
            console.log("LWC component was created: " + componentName);
            currentComponent = componentName;
          }
        );
      },
      "https://beyerdynamic--devverve.sandbox.my.site.com/faq/"
    );
  }

  // Initial component creation
  createComponent('kontaktFormularStartseite', { selectedLanguage: 'en' });

  // Handle navigation events
  document.addEventListener('navigate', function(event) {
    const lightning = document.getElementById('lightning');
    lightning.innerHTML = ''; // Clear current component
    createComponent(event.detail.component, { 
      selectedLanguage: event.detail.language 
    });
  });
</script>
